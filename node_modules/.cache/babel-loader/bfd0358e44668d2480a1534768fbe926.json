{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Desktop\\\\All react-project\\\\news-app\\\\src\\\\components\\\\News.jsx\";\nimport React, { Component } from \"react\";\nimport Newsitems from \"./Newsitems\";\nimport Spinner from \"./Spinner\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n\n    this.capitalizeFirstLetter = string => {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    this.handleonprev = async () => {\n      console.log(\"clicked on previous\");\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apikey}&page=${this.state.page - 1}&pageSize=18`;\n      this.setState({\n        loading: true\n      });\n      let data = await fetch(url);\n      let parsedata = await data.json();\n      console.log(parsedata);\n      this.setState({\n        page: this.state.page - 1,\n        articles: parsedata.articles,\n        loading: false\n      });\n    };\n\n    this.handleonnext = async () => {\n      console.log(\"clicked on next\");\n\n      if (this.state.page + 1 > Math.ceil(this.state.totalResults / 19)) {} else {\n        let url = ` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apikey}&page=${this.state.page + 1}&pageSize=18`;\n        this.setState({\n          loading: true\n        });\n        let data = await fetch(url);\n        let parsedata = await data.json();\n        console.log(parsedata);\n        this.setState({\n          page: this.state.page + 1,\n          articles: parsedata.articles,\n          loading: false\n        });\n      }\n    };\n\n    this.fetchMoreData = async () => {\n      let url = ` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apikey}&page=${this.state.page + 1}&pageSize=18`;\n      let data = await fetch(url);\n      let parsedata = await data.json();\n      console.log(parsedata);\n      this.setState({\n        page: this.state.page + 1,\n        articles: this.state.articles.concat(parsedata.articles)\n      });\n    };\n\n    console.log(\"hello i am comstructor\");\n    this.state = {\n      articles: [],\n      loading: true,\n      page: 1,\n      totalResults: 0\n    };\n    document.title = `${this.capitalizeFirstLetter(this.props.category)} NewsMonkey`;\n  }\n\n  async componentDidMount() {\n    this.props.setProgress(10);\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apikey}&page=1&pageSize=18`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    this.props.setProgress(30);\n    let parsedata = await data.json();\n    this.props.setProgress(70);\n    console.log(parsedata);\n    this.setState({\n      articles: parsedata.articles,\n      totalResults: parsedata.totalResults,\n      loading: false\n    });\n    this.props.setProgress(100);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        style: {\n          marginTop: \"90px\"\n        },\n        children: [\"NewsWala Top Headlines from \", \" \", this.capitalizeFirstLetter(this.props.category)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n        dataLength: this.state.articles.length,\n        next: this.fetchMoreData,\n        hasMore: this.state.articles.length !== this.state.totalResults,\n        loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row my-3\",\n            children: !this.state.loading && this.state.articles.map(elements => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: /*#__PURE__*/_jsxDEV(Newsitems, {\n                  title: elements.title.slice(0, 45),\n                  published: elements.publishedAt,\n                  description: elements.content,\n                  urlToImage: elements.urlToImage,\n                  newsUrl: elements.url,\n                  source: elements.source.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 23\n                }, this)\n              }, elements.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Hp/OneDrive/Desktop/All react-project/news-app/src/components/News.jsx"],"names":["React","Component","Newsitems","Spinner","InfiniteScroll","News","constructor","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handleonprev","console","log","url","country","category","apikey","state","page","setState","loading","data","fetch","parsedata","json","articles","handleonnext","Math","ceil","totalResults","fetchMoreData","concat","document","title","componentDidMount","setProgress","render","marginTop","length","map","elements","publishedAt","content","urlToImage","source","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Newsitems from \"./Newsitems\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nexport default class News extends Component {\r\n \r\n  capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"hello i am comstructor\");\r\n    this.state = {\r\n      articles: [],\r\n      loading: true,\r\n      page: 1,\r\n      totalResults: 0,\r\n    };\r\n    document.title = `${this.capitalizeFirstLetter(\r\n      this.props.category\r\n    )} NewsMonkey`;\r\n  }\r\n  async componentDidMount() {\r\n    this.props.setProgress(10);\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apikey}&page=1&pageSize=18`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    this.props.setProgress(30);\r\n    let parsedata = await data.json();\r\n    this.props.setProgress(70);\r\n    console.log(parsedata);\r\n    this.setState({\r\n      articles: parsedata.articles,\r\n      totalResults: parsedata.totalResults,\r\n      loading: false,\r\n    });\r\n    this.props.setProgress(100);\r\n  }\r\n  handleonprev = async () => {\r\n    console.log(\"clicked on previous\");\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${\r\n      this.props.country\r\n    }&category=${\r\n      this.props.category\r\n    }&apiKey=${this.props.apikey}&page=${\r\n      this.state.page - 1\r\n    }&pageSize=18`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedata = await data.json();\r\n    console.log(parsedata);\r\n\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: parsedata.articles,\r\n      loading: false,\r\n    });\r\n  };\r\n  handleonnext = async () => {\r\n    console.log(\"clicked on next\");\r\n    if (this.state.page + 1 > Math.ceil(this.state.totalResults / 19)) {\r\n    } else {\r\n      let url = ` https://newsapi.org/v2/top-headlines?country=${\r\n        this.props.country\r\n      }&category=${\r\n        this.props.category\r\n      }&apiKey=${this.props.apikey}&page=${\r\n        this.state.page + 1\r\n      }&pageSize=18`;\r\n      this.setState({ loading: true });\r\n      let data = await fetch(url);\r\n      let parsedata = await data.json();\r\n      console.log(parsedata);\r\n\r\n      this.setState({\r\n        page: this.state.page + 1,\r\n        articles: parsedata.articles,\r\n        loading: false,\r\n      });\r\n    }\r\n  };\r\n  fetchMoreData = async () => {\r\n    let url = ` https://newsapi.org/v2/top-headlines?country=${\r\n      this.props.country\r\n    }&category=${\r\n      this.props.category\r\n    }&apiKey=${this.props.apikey}&page=${\r\n      this.state.page + 1\r\n    }&pageSize=18`;\r\n    \r\n    let data = await fetch(url);\r\n    let parsedata = await data.json();\r\n    console.log(parsedata);\r\n\r\n    this.setState({\r\n      page: this.state.page + 1,\r\n      articles: this.state.articles.concat(parsedata.articles),\r\n      \r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.loading && <Spinner />}\r\n        <h1 className=\"text-center\" style={{ marginTop:\"90px\" }}>\r\n          NewsWala Top Headlines from {\" \"}\r\n          {this.capitalizeFirstLetter(this.props.category)}\r\n        </h1>\r\n        <InfiniteScroll\r\n            dataLength={this.state.articles.length}\r\n            next={this.fetchMoreData}\r\n            hasMore={this.state.articles.length !== this.state.totalResults}\r\n            loader={<Spinner />}\r\n          >\r\n        <div className=\"container my-3\">\r\n          \r\n            <div className=\"row my-3\">\r\n              {!this.state.loading &&\r\n                this.state.articles.map((elements) => {\r\n                  return (\r\n                    <div className=\"col-md-4\" key={elements.url}>\r\n                      <Newsitems\r\n                        title={elements.title.slice(0, 45)}\r\n                        published={elements.publishedAt}\r\n                        description={elements.content}\r\n                        urlToImage={elements.urlToImage}\r\n                        newsUrl={elements.url}\r\n                        source={elements.source.name}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n        </div>\r\n          </InfiniteScroll>\r\n\r\n        {/*  Code of button */}\r\n\r\n        {/* <div className=\"container d-flex justify-content-between my-3\">\r\n         <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handleonprev}>Previous</button>\r\n         <button type=\"button\" className=\"btn btn-dark\" onClick={this.handleonnext}>Next</button>\r\n         </div> */}\r\n\r\n        {/* <div className=\"row my-4\">\r\n        <div className=\"col-md-4\">\r\n          <Newsitems title=\"myTitle\" description=\"myDesc\" />\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <Newsitems title=\"myTitle\" description=\"myDesc\" />\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <Newsitems title=\"myTitle\" description=\"myDesc\" />\r\n        </div>\r\n        </div> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}